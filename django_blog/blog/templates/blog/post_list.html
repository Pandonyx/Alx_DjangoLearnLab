{% extends "blog/base.html" %} {% block title %}All Posts{% endblock %} {% block
content %}
<div class="posts-header">
  <h1>Blog Posts</h1>
  {% if user.is_authenticated %}
  <a
    href="{% url 'post-create' %}"
    class="btn btn-primary"
    >New Post</a
  >
  {% endif %}
</div>

{% for post in posts %}
<article class="post">
  <div class="post-header">
    <h2><a href="{% url 'post-detail' post.pk %}">{{ post.title }}</a></h2>
    <p class="post-meta">
      By <strong>{{ post.author.username }}</strong> on {{
      post.published_date|date:"F d, Y" }}
    </p>
  </div>
  <div class="post-content">{{ post.content|truncatewords:50 }}</div>
  <a
    href="{% url 'post-detail' post.pk %}"
    class="read-more"
    >Read more...</a
  >
</article>
{% empty %}
<p>No posts available yet.</p>
{% endfor %} {% if is_paginated %}
<div class="pagination">
  {% if page_obj.has_previous %}
  <a href="?page=1">First</a>
  <a href="?page={{ page_obj.previous_page_number }}">Previous</a>
  {% endif %}

  <span class="current-page">
    Page {{ page_obj.number }} of {{ page_obj.paginator.num_pages }}
  </span>

  {% if page_obj.has_next %}
  <a href="?page={{ page_obj.next_page_number }}">Next</a>
  <a href="?page={{ page_obj.paginator.num_pages }}">Last</a>
  {% endif %}
</div>
{% endif %} {% endblock %}
